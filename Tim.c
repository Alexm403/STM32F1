void init_TIM4(void)
{
RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM4,ENABLE);
	
TIM4->PSC = 100 ; // ??????????? ???????? ??? ?????? ????? 1000 ??? ? ???????
TIM4->ARR = 1500 ; // ???? ?????????? ????????? ??? ? ???????
TIM4->DIER |= TIM_DIER_UIE; //????????? ?????????? ?? ???????
TIM4->CR1 |= TIM_CR1_CEN; // ?????? ??????!
TIM_ITConfig(TIM4, TIM_IT_Update, ENABLE);
	NVIC_EnableIRQ(TIM4_IRQn); //?????????? TIM6_DAC_IRQn ??????????
}


void TIM4_IRQHandler(void)
{
	//GPIOB->BSRR = GPIO_BSRR_BS13;
	TIM_ClearITPendingBit(TIM4, TIM_IT_Update);
	//TIM_ClearITPendingBit(TIM5, TIM_FLAG_CC1OF);
//TIM5->SR =0;// ~TIM_SR_UIF; //?????????? ???? UIF
	GPIOB->ODR^=GPIO_Pin_12;
}
